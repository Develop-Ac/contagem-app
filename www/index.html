<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Contagem - Login</title>
    
    <!-- Material Design Lite -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    
    <!-- Nossos estilos -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Container Principal -->
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        
        <!-- Header -->
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <span class="mdl-layout-title">Sistema de Contagem</span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="mdl-layout__content">
            
            <!-- Tela de Login -->
            <div id="login-screen" class="screen active">
                <div class="login-container">
                    <div class="mdl-card mdl-shadow--6dp login-card">
                        <div class="mdl-card__title mdl-card--expand">
                            <h2 class="mdl-card__title-text">
                                <i class="material-icons">account_circle</i>
                                Login
                            </h2>
                        </div>
                        
                        <div class="mdl-card__supporting-text">
                            <form id="login-form" class="login-form">
                                <!-- Campo CÃ³digo -->
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                    <input class="mdl-textfield__input" type="text" id="codigo" name="codigo" required>
                                    <label class="mdl-textfield__label" for="codigo">CÃ³digo do UsuÃ¡rio</label>
                                </div>
                                
                                <!-- Campo Senha -->
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                    <input class="mdl-textfield__input" type="password" id="senha" name="senha" required>
                                    <label class="mdl-textfield__label" for="senha">Senha</label>
                                </div>
                                
                                <!-- Loading Spinner -->
                                <div id="login-loading" class="mdl-spinner mdl-js-spinner" style="display: none;"></div>
                                
                                <!-- BotÃ£o de Login -->
                                <button type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-button--accent login-button">
                                    <i class="material-icons">login</i>
                                    Entrar
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tela de Listagem de Contagens -->
            <div id="contagens-screen" class="screen">
                <div class="content-container">
                    <div class="page-header">
                        <h3 class="page-title">
                            <i class="material-icons">list</i>
                            Minhas Contagens
                        </h3>
                        <button id="logout-btn" class="mdl-button mdl-js-button mdl-button--icon">
                            <i class="material-icons">logout</i>
                        </button>
                    </div>
                    
                    <div id="user-info" class="user-info-card mdl-card mdl-shadow--2dp">
                        <div class="mdl-card__supporting-text">
                            <span id="user-name">Carregando...</span>
                        </div>
                    </div>
                    
                    <div id="contagens-loading" class="loading-center">
                        <div class="mdl-spinner mdl-js-spinner is-active"></div>
                    </div>
                    
                    <div id="contagens-grid" class="contagens-grid"></div>
                </div>
            </div>

            <!-- Tela de Itens da Contagem -->
            <div id="itens-screen" class="screen">
                <div class="content-container">
                    <div class="page-header">
                        <button id="back-btn" class="mdl-button mdl-js-button mdl-button--icon">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3 class="page-title">
                            <i class="material-icons">assignment_late</i>
                            Itens para ConferÃªncia
                        </h3>
                    </div>
                    
                    <div id="contagem-info" class="contagem-info-card mdl-card mdl-shadow--2dp">
                        <div class="mdl-card__supporting-text">
                            <span id="contagem-details">Carregando...</span>
                        </div>
                    </div>
                    
                    <div id="itens-loading" class="loading-center">
                        <div class="mdl-spinner mdl-js-spinner is-active"></div>
                    </div>
                    
                    <div id="itens-table-container" class="table-container">
                        <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp itens-table">
                            <thead>
                                <tr>
                                    <th class="mdl-data-table__cell--non-numeric">Produto</th>
                                    <th class="mdl-data-table__cell--numeric">CÃ³digo</th>
                                    <th class="mdl-data-table__cell--non-numeric">LocalizaÃ§Ã£o</th>
                                    <th class="mdl-data-table__cell--numeric">Quantidade</th>
                                </tr>
                            </thead>
                            <tbody id="itens-tbody">
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- BotÃ£o Salvar -->
                    <div style="margin-top: 24px; text-align: center;">
                        <button id="salvar-btn" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" style="display: none;" onclick="console.log('ðŸ–±ï¸ ONCLICK HTML ATIVADO!'); handleSalvarContagem();">
                            Finalizar Contagem
                        </button>
                        
                        <!-- BotÃ£o alternativo para teste -->
                        <button id="salvar-btn-alt" style="margin-left: 10px; padding: 12px 24px; background: #3067C5; color: white; border: none; border-radius: 4px; cursor: pointer;" onclick="console.log('ðŸ–±ï¸ BOTÃƒO ALTERNATIVO CLICADO!'); window.handleSalvarContagem();">
                            ðŸ”„ SALVAR
                        </button>
                        
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- Toast para notificaÃ§Ãµes -->
    <div id="toast" class="mdl-js-snackbar mdl-snackbar">
        <div class="mdl-snackbar__text"></div>
        <button class="mdl-snackbar__action" type="button"></button>
    </div>

    <script src="js/app.js"></script>
</body>
</html>